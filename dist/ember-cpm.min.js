(function(window,Ember){function reverseMerge(dest,source){for(var key in source)source.hasOwnProperty(key)&&!dest.hasOwnProperty(key)&&(dest[key]=source[key])}var EmberCPM={Macros:{},install:function(){reverseMerge(Ember.computed,EmberCPM.Macros)}};window.EmberCPM=EmberCPM,EmberCPM.VERSION="1.0.1",Ember.libraries&&Ember.libraries.register("Ember-CPM",EmberCPM.VERSION)}).call(void 0,this,this.Ember,this.jQuery),function(window,Ember,$,EmberCPM){function getIndex(changeMeta,instanceMeta,dependentArrayDelta){var dependentArrayGuid=Ember.guidFor(changeMeta.arrayChanged);dependentArrayGuid in instanceMeta.dependentGuidToIndex||recomputeGuidIndexes(instanceMeta,changeMeta.property._dependentKeys,this);for(var arrayIndex,dependentArrayLengths=instanceMeta.dependentArrayLengths,dependentArrayIndex=instanceMeta.dependentGuidToIndex[dependentArrayGuid],offset=0,i=0;dependentArrayIndex>i;++i)offset+=dependentArrayLengths[i]||0;return arrayIndex=offset+changeMeta.index,dependentArrayLengths[dependentArrayIndex]=(get(changeMeta.arrayChanged,"length")||0)+dependentArrayDelta,arrayIndex}function recomputeGuidIndexes(instanceMeta,keys,context){instanceMeta.dependentGuidToIndex={},a_forEach.call(keys,function(key,idx){instanceMeta.dependentGuidToIndex[Ember.guidFor(this.get(key))]=idx},context)}var a_slice=Array.prototype.slice,a_forEach=Ember.ArrayPolyfills.forEach,get=Ember.get;EmberCPM.Macros.concat=function(){var args=a_slice.call(arguments);return args.push({initialize:function(array,changeMeta,instanceMeta){return instanceMeta.dependentArrayLengths=new Array(changeMeta.property._dependentKeys.length),instanceMeta.dependentGuidToIndex={},array},addedItem:function(array,item,changeMeta,instanceMeta){var arrayIndex=getIndex.call(this,changeMeta,instanceMeta,0);return array.insertAt(arrayIndex,item),array},removedItem:function(array,item,changeMeta,instanceMeta){var arrayIndex=getIndex.call(this,changeMeta,instanceMeta,-1);return array.removeAt(arrayIndex),array}}),Ember.arrayComputed.apply(null,args)}}.call(void 0,this,this.Ember,this.jQuery,this.EmberCPM),function(window,Ember,$,EmberCPM){function registerComputed(name,macro){EmberCPM.Macros[name]=function(dependentKey){var args=a_slice.call(arguments);return Ember.computed(dependentKey,function(){return macro.apply(this,args)})}}var a_slice=Array.prototype.slice,get=Ember.get;registerComputed("among",function(dependentKey){for(var value=get(this,dependentKey),properties=a_slice.call(arguments,1),i=0;i<properties.length;++i)if(properties[i]===value)return!0;return!1}),registerComputed("encodeURIComponent",function(dependentKey){var value=get(this,dependentKey);return null==value?value:encodeURIComponent(value)}),registerComputed("encodeURI",function(dependentKey){var value=get(this,dependentKey);return null==value?value:encodeURI(value)}),registerComputed("htmlEscape",function(dependentKey){var value=get(this,dependentKey);return null==value?value:new Handlebars.SafeString(Handlebars.Utils.escapeExpression(value))}),registerComputed("ifNull",function(dependentKey,defaultValue){var value=get(this,dependentKey);return null==value?defaultValue:value}),registerComputed("notAmong",function(dependentKey){for(var value=get(this,dependentKey),properties=a_slice.call(arguments,1),i=0;i<properties.length;++i)if(properties[i]===value)return!1;return!0}),registerComputed("notEqual",function(dependentKey,targetValue){var value=get(this,dependentKey);return value!==targetValue}),registerComputed("notMatch",function(dependentKey,regexp){var value=get(this,dependentKey);return"string"==typeof value?!value.match(regexp):!0}),registerComputed("promise",function(dependentKey){var value=get(this,dependentKey);return null==value?value:$.when(value)}),registerComputed("safeString",function(dependentKey){var value=get(this,dependentKey);return null==value?value:new Handlebars.SafeString(value)}),EmberCPM.Macros.fmt=function(){var formatString=""+a_slice.call(arguments,-1),properties=a_slice.call(arguments,0,-1),computed=Ember.computed(function(){var i,value,values=[];for(i=0;i<properties.length;++i){if(value=get(this,properties[i]),void 0===value)return void 0;if(null===value)return null;values.push(value)}return Ember.String.fmt(formatString,values)});return computed.property.apply(computed,properties)},EmberCPM.Macros.join=function(){var separator=a_slice.call(arguments,-1),properties=a_slice.call(arguments,0,-1),computed=Ember.computed(function(){var _this=this;return properties.map(function(key){return get(_this,key)}).join(separator)});return computed.property.apply(computed,properties)},EmberCPM.Macros.sumBy=function(dependentKey,propertyKey){return Ember.reduceComputed(dependentKey+".@each."+propertyKey,{initialValue:0,addedItem:function(accumulatedValue,item){return accumulatedValue+parseFloat(Ember.get(item,propertyKey))},removedItem:function(accumulatedValue,item){return accumulatedValue-parseFloat(Ember.get(item,propertyKey))}})}}.call(void 0,this,this.Ember,this.jQuery,this.EmberCPM);